# Data Notes

This document provides a detailed description of the data files included in this artifact. Its purpose is to clarify the contents and confirm the anonymity of the data.

## 1. Pre-Computed Assets

**Directory:** `data/assets/`

This directory contains pre-computed binary files that are essential for the analysis scripts to run correctly and efficiently. These files were generated from either the private data (for `scaler.joblib` and `persona_centroid.npy`) or the public external datasets.

- **`scaler.joblib` files:** These are scikit-learn `StandardScaler` objects that have been fitted to the 8-dimensional style vectors of a dataset. They are used to standardize vectors to a mean of 0 and a standard deviation of 1.
- **`persona_centroid.npy` files:** These are NumPy arrays representing the mean style vector (or "centroid") of a dataset's conversational persona after standardization.
- **`assistant_persona_raw.npy`:** This is the fixed persona archetype used as the coherence target for all three external dataset simulations (DailyDialog, Persona-Chat, EmpatheticDialogues). It is an 8-dimensional vector in raw feature space, representing the mean style of our chatbot's responses from the original study's static condition. During a simulation, this raw vector is transformed using the specific dataset's scaler, ensuring coherence is always measured consistently in a standardized space.

## 2. Ground-Truth Metrics

**File:** `data/human_logs_derived/turn_level_metrics.csv`

This file contains derived, turn-by-turn numerical metrics. It serves as a **data proxy** for the sensitive, private conversational logs. This file is essential for the "Simulation Framework Validation" analysis (Table 3) that compares the observed study outcomes with the LLM-in-the-loop simulation results.

> **IRB Compliance and Anonymity**
>
> The `participant_id` is a unique, randomly generated, non-identifying key assigned to each study participant and has no link to any personal information. This file contains **only derived numerical metrics** and **no personally identifiable information or raw user text**.

### Data Dictionary

| Column Name | Data Type | Description |
| :--- | :--- | :--- |
| `participant_id` | string | A unique, non-identifying random identifier for each study participant. |
| `session_id` | string | A unique identifier for the conversational session. |
| `turn_number` | integer | The sequential turn number within the conversation (starting from 1). |
| `condition` | string | The experimental condition (`adaptive` or `static`). |
| `synchrony_embedding` | float | Cosine similarity between user and bot utterance style embeddings. |
| `stability_score` | float | The bot's stylistic stability from the previous turn to the current one. |
| `coherence_score` | float | The bot's stylistic coherence with its core persona. |
| `synchrony_lsm` | float | The classic Language Style Matching (LSM) score for the turn. |

## 3. LLM-in-the-Loop Simulation Outputs

**Files:**
- `llm_replay/gpt4.1_nano_subset.jsonl`
- `llm_replay/claude_sonnet4_subset.jsonl`

These files contain the raw, turn-level numerical outputs from the "LLM-in-the-loop" simulations. These files are the direct source for generating the policy effect analysis (Table 2) and the model generalization plot (Figure 2).

> **Anonymity Note**
>
> These files contain **only numerical outputs** and do not include any human-generated text. The `pid` column refers to the same non-identifying keys used in `turn_level_metrics.csv`.

### JSON Schema (per line)

| Field Name | Data Type | Description |
| :--- | :--- | :--- |
| `pid` | string | The non-identifying participant ID whose conversational pattern was replayed. |
| `policy` | string | The adaptation policy being simulated (`Uncapped` or `Hybrid (EMA+Cap)`). |
| `turn` | integer | The turn number within the replayed session. |
| `synchrony` | float | **Vector Synchrony:** Cosine similarity between the bot's actual and target style vectors. |
| `stability` | float | **Vector Stability:** Turn-to-turn stylistic stability of the bot. |
| `coherence` | float | **Vector Coherence:** The bot's stylistic coherence with its core persona. |
| `synchrony_embed` | float | **Embedding Synchrony:** Style similarity score on the generated text. |
| `prompt_tokens` | integer | Input tokens used for the LLM API call. |
| `completion_tokens`| integer | Output tokens generated by the LLM API call. |
